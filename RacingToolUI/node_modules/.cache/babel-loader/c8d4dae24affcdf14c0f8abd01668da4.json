{"ast":null,"code":"import { plainToClass } from \"class-transformer\";\nimport fs from \"fs\";\nimport { replacer, reviver } from \"../DomainLayer/utils\";\nimport Organisatie from \"../DomainLayer/Entities/Organisatie\";\n\nclass FileSaver {\n  constructor() {}\n\n  static getInstance() {\n    if (!FileSaver.instance) {\n      FileSaver.instance = new FileSaver();\n    }\n\n    return FileSaver.instance;\n  }\n\n  save(organisatie) {\n    let stringifiedOrganisatie = JSON.stringify(organisatie, replacer);\n    fs.writeFileSync(\"Savefiles/saved.txt\", stringifiedOrganisatie);\n    return true;\n  }\n\n  load(path) {\n    let stringifiedOrganisatie = fs.readFileSync(path, \"utf-8\");\n    let organisatieJSON = JSON.parse(stringifiedOrganisatie, reviver);\n    let organisatie = plainToClass(Organisatie, organisatieJSON);\n    return organisatie;\n  }\n\n}\n\nFileSaver.instance = void 0;\nexport default FileSaver;","map":{"version":3,"sources":["/Users/bramsikkens/Documents/Ontwikkeling/Propaganda/PropagandaSysteem/src/ApplicationLayer/FileSaver.ts"],"names":["plainToClass","fs","replacer","reviver","Organisatie","FileSaver","constructor","getInstance","instance","save","organisatie","stringifiedOrganisatie","JSON","stringify","writeFileSync","load","path","readFileSync","organisatieJSON","parse"],"mappings":"AAAA,SAASA,YAAT,QAA6B,mBAA7B;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,SAASC,QAAT,EAAmBC,OAAnB,QAAkC,sBAAlC;AACA,OAAOC,WAAP,MAAwB,qCAAxB;;AAGA,MAAMC,SAAN,CAAwC;AAE9BC,EAAAA,WAAW,GAAG,CAAE;;AAEC,SAAXC,WAAW,GAAc;AACrC,QAAI,CAACF,SAAS,CAACG,QAAf,EAAyB;AACvBH,MAAAA,SAAS,CAACG,QAAV,GAAqB,IAAIH,SAAJ,EAArB;AACD;;AACD,WAAOA,SAAS,CAACG,QAAjB;AACD;;AAEDC,EAAAA,IAAI,CAACC,WAAD,EAAoC;AACtC,QAAIC,sBAAsB,GAAGC,IAAI,CAACC,SAAL,CAAeH,WAAf,EAA4BR,QAA5B,CAA7B;AACAD,IAAAA,EAAE,CAACa,aAAH,CAAiB,qBAAjB,EAAwCH,sBAAxC;AACA,WAAO,IAAP;AACD;;AACDI,EAAAA,IAAI,CAACC,IAAD,EAA6B;AAC/B,QAAIL,sBAAsB,GAAGV,EAAE,CAACgB,YAAH,CAAgBD,IAAhB,EAAsB,OAAtB,CAA7B;AACA,QAAIE,eAAuB,GAAGN,IAAI,CAACO,KAAL,CAAWR,sBAAX,EAAmCR,OAAnC,CAA9B;AACA,QAAIO,WAAwB,GAAGV,YAAY,CAACI,WAAD,EAAcc,eAAd,CAA3C;AAEA,WAAOR,WAAP;AACD;;AAtBqC;;AAAlCL,S,CACWG,Q;AAwBjB,eAAeH,SAAf","sourcesContent":["import { plainToClass } from \"class-transformer\";\nimport fs from \"fs\";\nimport { replacer, reviver } from \"../DomainLayer/utils\";\nimport Organisatie from \"../DomainLayer/Entities/Organisatie\";\nimport IPersistable from \"./IPersistable\";\n\nclass FileSaver implements IPersistable {\n  private static instance: FileSaver;\n  private constructor() {}\n\n  public static getInstance(): FileSaver {\n    if (!FileSaver.instance) {\n      FileSaver.instance = new FileSaver();\n    }\n    return FileSaver.instance;\n  }\n\n  save(organisatie: Organisatie): boolean {\n    let stringifiedOrganisatie = JSON.stringify(organisatie, replacer);\n    fs.writeFileSync(\"Savefiles/saved.txt\", stringifiedOrganisatie);\n    return true;\n  }\n  load(path?: string): Organisatie {\n    let stringifiedOrganisatie = fs.readFileSync(path, \"utf-8\");\n    let organisatieJSON: Object = JSON.parse(stringifiedOrganisatie, reviver);\n    let organisatie: Organisatie = plainToClass(Organisatie, organisatieJSON);\n\n    return organisatie;\n  }\n}\n\nexport default FileSaver;\n"]},"metadata":{},"sourceType":"module"}