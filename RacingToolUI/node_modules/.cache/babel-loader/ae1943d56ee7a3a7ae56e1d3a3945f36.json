{"ast":null,"code":"import Race from \"../../../DomainLayer/Entities/Race\";\nexport function CreateRace(request, ApplicationState) {\n  let organisatie = ApplicationState.organisatie;\n  let newRace = new Race(request.afstand, request.boottype);\n  organisatie.addWedstrijd(newRace, request.titel);\n  let createdRace = organisatie.inschrijvingen.get(request.titel);\n\n  if (createdRace) {\n    request.rondes.forEach(ronde => {\n      createdRace === null || createdRace === void 0 ? void 0 : createdRace.creerRonde(ronde);\n    });\n  }\n\n  return {\n    status: createdRace ? \"succes\" : \"fail\",\n    message: createdRace ? \"raceCreated\" : \"Race Could not be created\",\n    organisatie: {\n      naam: organisatie.naam\n    },\n    race: createdRace ? {\n      titel: request.titel,\n      afstand: createdRace._afstand,\n      boottype: createdRace._bootType\n    } : undefined,\n    rondes: request.rondes\n  };\n}\n_c = CreateRace;\nexport function VerkrijgReeksenVanRonde(request, applicationState) {\n  let race = applicationState.organisatie.inschrijvingen.get(request.raceTitle);\n  let reeksen;\n\n  if (race) {\n    reeksen = race.verkrijgReeksen([request.rondeTitle]);\n  }\n\n  if (reeksen) {\n    return {\n      status: \"suces\",\n      message: \"ok\",\n      reeksen: reeksen.map(reeks => {\n        var _reeks$startTijd;\n\n        return {\n          categorie: reeks.categorie.toString(),\n          starttijd: (_reeks$startTijd = reeks.startTijd) === null || _reeks$startTijd === void 0 ? void 0 : _reeks$startTijd.toISOString(),\n          z\n        };\n      })\n    };\n  } else {\n    return {\n      status: \"failed\",\n      message: \"something went wrong\"\n    };\n  }\n}\n_c2 = VerkrijgReeksenVanRonde;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CreateRace\");\n$RefreshReg$(_c2, \"VerkrijgReeksenVanRonde\");","map":{"version":3,"sources":["/Users/bramsikkens/Documents/Ontwikkeling/Propaganda/PropagandaSysteem/src/ApplicationLayer/Organisatie/Race/RaceUseCases.ts"],"names":["Race","CreateRace","request","ApplicationState","organisatie","newRace","afstand","boottype","addWedstrijd","titel","createdRace","inschrijvingen","get","rondes","forEach","ronde","creerRonde","status","message","naam","race","_afstand","_bootType","undefined","VerkrijgReeksenVanRonde","applicationState","raceTitle","reeksen","verkrijgReeksen","rondeTitle","map","reeks","categorie","toString","starttijd","startTijd","toISOString","z"],"mappings":"AAGA,OAAOA,IAAP,MAAiB,oCAAjB;AAWA,OAAO,SAASC,UAAT,CACLC,OADK,EAELC,gBAFK,EAGgB;AACrB,MAAIC,WAAwB,GAAGD,gBAAgB,CAACC,WAAhD;AACA,MAAIC,OAAa,GAAG,IAAIL,IAAJ,CAClBE,OAAO,CAACI,OADU,EAElBJ,OAAO,CAACK,QAFU,CAApB;AAIAH,EAAAA,WAAW,CAACI,YAAZ,CAAyBH,OAAzB,EAAkCH,OAAO,CAACO,KAA1C;AAEA,MAAIC,WAA6B,GAAGN,WAAW,CAACO,cAAZ,CAA2BC,GAA3B,CAClCV,OAAO,CAACO,KAD0B,CAApC;;AAIA,MAAIC,WAAJ,EAAiB;AACfR,IAAAA,OAAO,CAACW,MAAR,CAAeC,OAAf,CAAwBC,KAAD,IAAmB;AACxCL,MAAAA,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEM,UAAb,CAAwBD,KAAxB;AACD,KAFD;AAGD;;AAED,SAAO;AACLE,IAAAA,MAAM,EAAEP,WAAW,GAAG,QAAH,GAAc,MAD5B;AAELQ,IAAAA,OAAO,EAAER,WAAW,GAAG,aAAH,GAAmB,2BAFlC;AAGLN,IAAAA,WAAW,EAAE;AACXe,MAAAA,IAAI,EAAEf,WAAW,CAACe;AADP,KAHR;AAMLC,IAAAA,IAAI,EAAEV,WAAW,GACb;AACED,MAAAA,KAAK,EAAEP,OAAO,CAACO,KADjB;AAEEH,MAAAA,OAAO,EAAEI,WAAW,CAACW,QAFvB;AAGEd,MAAAA,QAAQ,EAAEG,WAAW,CAACY;AAHxB,KADa,GAMbC,SAZC;AAaLV,IAAAA,MAAM,EAAEX,OAAO,CAACW;AAbX,GAAP;AAeD;KApCeZ,U;AAsChB,OAAO,SAASuB,uBAAT,CACLtB,OADK,EAELuB,gBAFK,EAG4B;AACjC,MAAIL,IAAsB,GAAGK,gBAAgB,CAACrB,WAAjB,CAA6BO,cAA7B,CAA4CC,GAA5C,CAC3BV,OAAO,CAACwB,SADmB,CAA7B;AAIA,MAAIC,OAAJ;;AAEA,MAAIP,IAAJ,EAAU;AACRO,IAAAA,OAAO,GAAGP,IAAI,CAACQ,eAAL,CAAqB,CAAC1B,OAAO,CAAC2B,UAAT,CAArB,CAAV;AACD;;AAED,MAAIF,OAAJ,EAAa;AACX,WAAO;AACLV,MAAAA,MAAM,EAAE,OADH;AAELC,MAAAA,OAAO,EAAE,IAFJ;AAGLS,MAAAA,OAAO,EAAEA,OAAO,CAACG,GAAR,CAAaC,KAAD,IAAkB;AAAA;;AACrC,eAAO;AACLC,UAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBC,QAAhB,EADN;AAELC,UAAAA,SAAS,sBAAEH,KAAK,CAACI,SAAR,qDAAE,iBAAiBC,WAAjB,EAFN;AAGHC,UAAAA;AAHG,SAAP;AAKD,OANQ;AAHJ,KAAP;AAWD,GAZD,MAYO;AACL,WAAO;AACLpB,MAAAA,MAAM,EAAE,QADH;AAELC,MAAAA,OAAO,EAAE;AAFJ,KAAP;AAID;AACF;MAhCeM,uB","sourcesContent":["import RaceEntry from \"../../../DomainLayer/Abstracts/RaceEntry\";\nimport { Deelnemer } from \"../../../DomainLayer/Entities/Deelnemer\";\nimport Organisatie from \"../../../DomainLayer/Entities/Organisatie\";\nimport Race from \"../../../DomainLayer/Entities/Race\";\nimport { Reeks } from \"../../../DomainLayer/Entities/Reeks\";\nimport Team from \"../../../DomainLayer/Entities/Team\";\nimport { BootType } from \"../../../DomainLayer/Enums/BootType\";\nimport ApplicationState from \"../../ApplicationState\";\nimport { CreateRaceRequest, VerkrijgReeksenVanRondeDTO } from \"./RaceRequests\";\nimport {\n  CreatedRaceResponse,\n  VerkrijgReeksenVanRondeResponse,\n} from \"./RaceResponses\";\n\nexport function CreateRace(\n  request: CreateRaceRequest,\n  ApplicationState: ApplicationState\n): CreatedRaceResponse {\n  let organisatie: Organisatie = ApplicationState.organisatie;\n  let newRace: Race = new Race(\n    request.afstand,\n    request.boottype as BootType.K1\n  );\n  organisatie.addWedstrijd(newRace, request.titel);\n\n  let createdRace: Race | undefined = organisatie.inschrijvingen.get(\n    request.titel\n  );\n\n  if (createdRace) {\n    request.rondes.forEach((ronde: string) => {\n      createdRace?.creerRonde(ronde);\n    });\n  }\n\n  return {\n    status: createdRace ? \"succes\" : \"fail\",\n    message: createdRace ? \"raceCreated\" : \"Race Could not be created\",\n    organisatie: {\n      naam: organisatie.naam,\n    },\n    race: createdRace\n      ? {\n          titel: request.titel,\n          afstand: createdRace._afstand,\n          boottype: createdRace._bootType as string,\n        }\n      : undefined,\n    rondes: request.rondes,\n  };\n}\n\nexport function VerkrijgReeksenVanRonde(\n  request: VerkrijgReeksenVanRondeDTO,\n  applicationState: ApplicationState\n): VerkrijgReeksenVanRondeResponse {\n  let race: Race | undefined = applicationState.organisatie.inschrijvingen.get(\n    request.raceTitle\n  );\n\n  let reeksen: Reeks[] | undefined;\n\n  if (race) {\n    reeksen = race.verkrijgReeksen([request.rondeTitle]);\n  }\n\n  if (reeksen) {\n    return {\n      status: \"suces\",\n      message: \"ok\",\n      reeksen: reeksen.map((reeks: Reeks) => {\n        return {\n          categorie: reeks.categorie.toString(),\n          starttijd: reeks.startTijd?.toISOString(),\n            z\n        };\n      }),\n    };\n  } else {\n    return {\n      status: \"failed\",\n      message: \"something went wrong\",\n    };\n  }\n}\n"]},"metadata":{},"sourceType":"module"}