{"ast":null,"code":"import Race from \"../../../DomainLayer/Entities/Race\";\nexport function CreateRace(request, ApplicationState) {\n  let organisatie = ApplicationState.organisatie;\n  let newRace = new Race(request.afstand, request.boottype, request.aantalBanen);\n  organisatie.addWedstrijd(newRace, request.titel);\n  let createdRace = organisatie.inschrijvingen.get(request.titel);\n\n  if (createdRace) {\n    request.rondes.forEach(ronde => {\n      createdRace === null || createdRace === void 0 ? void 0 : createdRace.creerRonde(ronde);\n    });\n  }\n\n  return {\n    status: createdRace ? \"succes\" : \"fail\",\n    message: createdRace ? \"raceCreated\" : \"Race Could not be created\",\n    organisatie: {\n      naam: organisatie.naam\n    },\n    race: createdRace ? {\n      titel: request.titel,\n      afstand: createdRace._afstand,\n      boottype: createdRace._bootType\n    } : undefined,\n    rondes: request.rondes\n  };\n}\n_c = CreateRace;\nexport function verkrijgRondesVanRace(request, applicationState) {\n  let rondes;\n  let race = applicationState.organisatie.inschrijvingen.get(request.raceTitle);\n\n  if (race) {\n    rondes = race.verkrijgRondes();\n\n    if (rondes) {\n      return {\n        status: \"succes\",\n        message: \"Retrieved Rondes\",\n        r\n      };\n    }\n  }\n}\nexport function VerkrijgReeksenVanRonde(request, applicationState) {\n  let race = applicationState.organisatie.inschrijvingen.get(request.raceTitle);\n  let reeksen;\n\n  if (race) {\n    reeksen = race.verkrijgReeksen([request.rondeTitle]);\n  }\n\n  if (reeksen) {\n    return {\n      status: \"suces\",\n      message: \"ok\",\n      reeksen: reeksen.map(reeks => {\n        var _reeks$startTijd;\n\n        return {\n          categorie: reeks.categorie.toString(),\n          starttijd: (_reeks$startTijd = reeks.startTijd) === null || _reeks$startTijd === void 0 ? void 0 : _reeks$startTijd.toISOString(),\n          baanVerdeling: Array.from(reeks.baanVerdeling.entries()).map(entry => {\n            return {\n              baan: entry[0].toString(),\n              club: entry[1].club,\n              naam: entry[1]._naam,\n              category: entry[1].categorie,\n              team: entry[1]._team\n            };\n          })\n        };\n      })\n    };\n  } else {\n    return {\n      status: \"failed\",\n      message: \"something went wrong\"\n    };\n  }\n}\n_c2 = VerkrijgReeksenVanRonde;\nexport function verkrijgDeelnemersFromRace(request, applicationState) {\n  const race = applicationState.organisatie.inschrijvingen.get(request.raceTitle);\n\n  if (race !== undefined) {\n    let deelnemersArray = race.verkrijgDeelnemers();\n    return {\n      status: \"Succes\",\n      message: \"Received Deelnemers\",\n      deelnemers: deelnemersArray.map(deelnemer => {\n        return {\n          naam: deelnemer._naam,\n          category: deelnemer.categorie.toString(),\n          club: deelnemer.club\n        };\n      })\n    };\n  } else {\n    return {\n      status: \"Failed\",\n      message: \"Something went wrong\"\n    };\n  }\n}\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CreateRace\");\n$RefreshReg$(_c2, \"VerkrijgReeksenVanRonde\");","map":{"version":3,"sources":["/Users/bramsikkens/Documents/Ontwikkeling/Propaganda/PropagandaSysteem/src/ApplicationLayer/Organisatie/Race/RaceUseCases.ts"],"names":["Race","CreateRace","request","ApplicationState","organisatie","newRace","afstand","boottype","aantalBanen","addWedstrijd","titel","createdRace","inschrijvingen","get","rondes","forEach","ronde","creerRonde","status","message","naam","race","_afstand","_bootType","undefined","verkrijgRondesVanRace","applicationState","raceTitle","verkrijgRondes","r","VerkrijgReeksenVanRonde","reeksen","verkrijgReeksen","rondeTitle","map","reeks","categorie","toString","starttijd","startTijd","toISOString","baanVerdeling","Array","from","entries","entry","baan","club","_naam","category","team","_team","verkrijgDeelnemersFromRace","deelnemersArray","verkrijgDeelnemers","deelnemers","deelnemer"],"mappings":"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","sourcesContent":["import RaceEntry from \"../../../DomainLayer/Abstracts/RaceEntry\";\nimport { Deelnemer } from \"../../../DomainLayer/Entities/Deelnemer\";\nimport Organisatie from \"../../../DomainLayer/Entities/Organisatie\";\nimport Race from \"../../../DomainLayer/Entities/Race\";\nimport { Reeks } from \"../../../DomainLayer/Entities/Reeks\";\nimport Team from \"../../../DomainLayer/Entities/Team\";\nimport { BootType } from \"../../../DomainLayer/Enums/BootType\";\nimport ApplicationState from \"../../ApplicationState\";\nimport {\n  CreateRaceRequest,\n  VerkrijgDeelnemersVanRaceRequest,\n  VerkrijgReeksenVanRondeDTO,\n  VerkrijgRondesDTO,\n} from \"./RaceRequests\";\nimport {\n  CreatedRaceResponse,\n  VerkrijgDeelnemersFromRaceResponse,\n  VerkrijgReeksenVanRondeResponse,\n} from \"./RaceResponses\";\n\nexport function CreateRace(\n  request: CreateRaceRequest,\n  ApplicationState: ApplicationState\n): CreatedRaceResponse {\n  let organisatie: Organisatie = ApplicationState.organisatie;\n  let newRace: Race = new Race(\n    request.afstand,\n    request.boottype as BootType.K1,\n    request.aantalBanen\n  );\n  organisatie.addWedstrijd(newRace, request.titel);\n\n  let createdRace: Race | undefined = organisatie.inschrijvingen.get(\n    request.titel\n  );\n\n  if (createdRace) {\n    request.rondes.forEach((ronde: string) => {\n      createdRace?.creerRonde(ronde);\n    });\n  }\n\n  return {\n    status: createdRace ? \"succes\" : \"fail\",\n    message: createdRace ? \"raceCreated\" : \"Race Could not be created\",\n    organisatie: {\n      naam: organisatie.naam,\n    },\n    race: createdRace\n      ? {\n          titel: request.titel,\n          afstand: createdRace._afstand,\n          boottype: createdRace._bootType as string,\n        }\n      : undefined,\n    rondes: request.rondes,\n  };\n}\n\nexport function verkrijgRondesVanRace(\n  request: VerkrijgRondesDTO,\n  applicationState: ApplicationState\n): any {\n  let rondes: Array<string>;\n\n  let race: Race | undefined = applicationState.organisatie.inschrijvingen.get(\n    request.raceTitle\n  );\n\n  if (race) {\n    rondes = race.verkrijgRondes();\n    if (rondes) {\n      return {\n        status: \"succes\",\n        message:\"Retrieved Rondes\",\n        r\n      };\n    }\n  }\n}\n\nexport function VerkrijgReeksenVanRonde(\n  request: VerkrijgReeksenVanRondeDTO,\n  applicationState: ApplicationState\n): VerkrijgReeksenVanRondeResponse {\n  let race: Race | undefined = applicationState.organisatie.inschrijvingen.get(\n    request.raceTitle\n  );\n\n  let reeksen: Reeks[] | undefined;\n\n  if (race) {\n    reeksen = race.verkrijgReeksen([request.rondeTitle]);\n  }\n\n  if (reeksen) {\n    return {\n      status: \"suces\",\n      message: \"ok\",\n      reeksen: reeksen.map((reeks: Reeks) => {\n        return {\n          categorie: reeks.categorie.toString(),\n          starttijd: reeks.startTijd?.toISOString(),\n          baanVerdeling: Array.from(reeks.baanVerdeling.entries()).map(\n            (entry) => {\n              return {\n                baan: entry[0].toString(),\n                club: entry[1].club,\n                naam: (entry[1] as Deelnemer)._naam,\n                category: (entry[1] as Deelnemer).categorie,\n                team: (entry[1] as Team)._team,\n              };\n            }\n          ),\n        };\n      }),\n    };\n  } else {\n    return {\n      status: \"failed\",\n      message: \"something went wrong\",\n    };\n  }\n}\n\nexport function verkrijgDeelnemersFromRace(\n  request: VerkrijgDeelnemersVanRaceRequest,\n  applicationState: ApplicationState\n): VerkrijgDeelnemersFromRaceResponse {\n  const race: Race | undefined =\n    applicationState.organisatie.inschrijvingen.get(request.raceTitle);\n\n  if (race !== undefined) {\n    let deelnemersArray: Array<Deelnemer> = race.verkrijgDeelnemers();\n    return {\n      status: \"Succes\",\n      message: \"Received Deelnemers\",\n      deelnemers: deelnemersArray.map((deelnemer: Deelnemer) => {\n        return {\n          naam: deelnemer._naam,\n          category: deelnemer.categorie.toString(),\n          club: deelnemer.club,\n        };\n      }),\n    };\n  } else {\n    return {\n      status: \"Failed\",\n      message: \"Something went wrong\",\n    };\n  }\n}\n"]},"metadata":{},"sourceType":"module"}