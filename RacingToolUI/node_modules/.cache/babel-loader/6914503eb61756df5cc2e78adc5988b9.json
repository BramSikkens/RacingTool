{"ast":null,"code":"import { plainToClass } from \"class-transformer\";\nimport { replacer, reviver } from \"../DomainLayer/utils\";\nimport Organisatie from \"../DomainLayer/Entities/Organisatie\";\nimport { saveAs, File } from \"file-saver\";\nexport default class FileReaderWeb {\n  save(organisatie) {\n    if (!organisatie) {\n      throw new Error(\"No organisation\");\n    }\n\n    const organisatieJson = JSON.stringify(organisatie, replacer);\n    var file = new File([\"Hello, world!\"], \"hello world.txt\", {\n      type: \"text/plain;charset=utf-8\"\n    });\n    saveAs(file);\n    return true;\n  }\n\n  load(path, filecontent) {\n    if (!filecontent) {\n      throw new Error(\"There is no content\");\n    }\n\n    const organisatieJSON = JSON.parse(filecontent, reviver);\n    const organisatie = plainToClass(Organisatie, organisatieJSON);\n    return organisatie;\n  }\n\n}","map":{"version":3,"sources":["/Users/bramsikkens/Documents/Ontwikkeling/Propaganda/PropagandaSysteem/src/lib/FileReaderWeb.ts"],"names":["plainToClass","replacer","reviver","Organisatie","saveAs","File","FileReaderWeb","save","organisatie","Error","organisatieJson","JSON","stringify","file","type","load","path","filecontent","organisatieJSON","parse"],"mappings":"AAAA,SAASA,YAAT,QAA6B,mBAA7B;AAEA,SAASC,QAAT,EAAmBC,OAAnB,QAAkC,sBAAlC;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AAEA,SAASC,MAAT,EAAgBC,IAAhB,QAA4B,YAA5B;AAGA,eAAe,MAAMC,aAAN,CAA4C;AACzDC,EAAAA,IAAI,CAACC,WAAD,EAAoC;AACtC,QAAI,CAACA,WAAL,EAAkB;AAChB,YAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;AACD;;AACD,UAAMC,eAAe,GAAGC,IAAI,CAACC,SAAL,CAAeJ,WAAf,EAA4BP,QAA5B,CAAxB;AACA,QAAIY,IAAI,GAAG,IAAIR,IAAJ,CAAS,CAAC,eAAD,CAAT,EAA4B,iBAA5B,EAA+C;AACxDS,MAAAA,IAAI,EAAE;AADkD,KAA/C,CAAX;AAGAV,IAAAA,MAAM,CAACS,IAAD,CAAN;AAGA,WAAO,IAAP;AACD;;AACDE,EAAAA,IAAI,CAACC,IAAD,EAAgBC,WAAhB,EAAmD;AACrD,QAAI,CAACA,WAAL,EAAkB;AAChB,YAAM,IAAIR,KAAJ,CAAU,qBAAV,CAAN;AACD;;AACD,UAAMS,eAAuB,GAAGP,IAAI,CAACQ,KAAL,CAAWF,WAAX,EAAwBf,OAAxB,CAAhC;AACA,UAAMM,WAAwB,GAAGR,YAAY,CAACG,WAAD,EAAce,eAAd,CAA7C;AAEA,WAAOV,WAAP;AACD;;AAtBwD","sourcesContent":["import { plainToClass } from \"class-transformer\";\nimport fs from \"fs\";\nimport { replacer, reviver } from \"../DomainLayer/utils\";\nimport Organisatie from \"../DomainLayer/Entities/Organisatie\";\nimport IPersistable from \"../ApplicationLayer/IPersistable\";\nimport { saveAs,File } from \"file-saver\";\n\n\nexport default class FileReaderWeb implements IPersistable {\n  save(organisatie: Organisatie): boolean {\n    if (!organisatie) {\n      throw new Error(\"No organisation\");\n    }\n    const organisatieJson = JSON.stringify(organisatie, replacer);\n    var file = new File([\"Hello, world!\"], \"hello world.txt\", {\n      type: \"text/plain;charset=utf-8\",\n    });\n    saveAs(file);\n\n\n    return true;\n  }\n  load(path?: string, filecontent?: string): Organisatie {\n    if (!filecontent) {\n      throw new Error(\"There is no content\");\n    }\n    const organisatieJSON: Object = JSON.parse(filecontent, reviver);\n    const organisatie: Organisatie = plainToClass(Organisatie, organisatieJSON);\n\n    return organisatie;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}